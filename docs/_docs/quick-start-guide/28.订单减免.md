qo_ord


订单减免相关业务的设计





### 订单主表  qord.qo_ord
```
说明：
1 修改条件：POS机代下单的时候，如果有优惠金额， discfg 和 discamount将发生变化
2 当有优惠的时候，影响的字段只有 discfg和 discamount
```
| 字段名      |     参数类型 | 必须 | 参数说明   | 参考值|
| :-------- | :--------|:--------| :------ |:------ |
| orduid|String|必须| 订单号|ORD_i7E_eQjRrXGKbYPscFqg7iOlsgK7|
| amount|Integer|必须| 订单初始预收金额| 90000|
| discfg|String|必须| 优惠标识discfg：0:无优惠，1：全免，2:减免医院管理费，3：减免公司收入，4：减免增收,5:团队制减免| 1，2，3，4 |
| discamount|Integer|必须| 优惠金额| 100 |


### 订单价格表 qord.qo_statn_item
```
说明： 无
```
| 字段名      |     参数类型 | 必须 | 参数说明   | 参考值|
| :-------- | :--------|:--------| :------ |:------ |
| stimid|Integer|必须| 价格ID|332|
| statncd|String|必须| 护工站代码| 31010700052|
| statnnm|String|必须| 护工站名称| 同济医院(上海市同济大学附属同济医院)|
| price|String|必须| 价格| 10000|
| companyfee|String|必须| 平台费用| 500|
| plusfee|String|必须| 增收| 500|
| hospfee|String|必须| 医院管理费| 500|
| deptfee|Integer|必须| 科室费| 500|
| wrkfee|Integer|必须| 护工费| 8000|


### 数据字典，各个case相关的数据变化
```
说明：
```
| 优惠类型|   服务价格|  qo_ord.amount | 优惠类型<br/> qo_ord.discfg  | 优惠金额 <br/> qo_ord.discamount| 支付金额<br/> qo_pay_trade.amount|
| :-------- | :--------|:--------| :------ |:------ |:------ |
| 0: 无优惠 |700元| 70000 |0|0|70000|
| 1: 全免 |700元|70000| 1,2,3,4| 10000|80000|
| 2: 减免医院管理费|700元|70000| 2| 30000 |40000|
| 3: 减免公司收入、4：减免增收|700元|70000| 3,4| 20000 |50000|
| 5: 团队制减免 |1700元|170000| 5| 10000 |160000|
